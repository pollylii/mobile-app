{"remainingRequest":"C:\\polly\\polly\\linjiashop\\linjiashop-mobile\\node_modules\\babel-loader\\lib\\index.js!C:\\polly\\polly\\linjiashop\\linjiashop-mobile\\src\\router.js","dependencies":[{"path":"C:\\polly\\polly\\linjiashop\\linjiashop-mobile\\src\\router.js","mtime":1588815812747},{"path":"C:\\polly\\polly\\linjiashop\\linjiashop-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\polly\\polly\\linjiashop\\linjiashop-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/polly/polly/linjiashop/linjiashop-mobile/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _interopRequireWildcard2 = _interopRequireDefault(require(\"C:/polly/polly/linjiashop/linjiashop-mobile/node_modules/@babel/runtime/helpers/interopRequireWildcard\"));\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _vueRouter = _interopRequireDefault(require(\"vue-router\"));\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\nvar _storage = _interopRequireDefault(require(\"@/utils/storage\"));\n\n_vue.default.use(_vueRouter.default);\n\nvar routes = [{\n  path: '*',\n  redirect: '/index'\n}, {\n  name: 'error',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/common/error\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '系统异常'\n  }\n}, {\n  name: 'login',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/login\"));\n    });\n  },\n  meta: {\n    title: '登录'\n  }\n}, {\n  name: 'index',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/index\"));\n    });\n  },\n  meta: {\n    title: '邻家小铺'\n  }\n}, {\n  path: '/topic/:id',\n  name: 'topic',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/topic\"));\n    });\n  },\n  meta: {\n    title: '专题推荐'\n  }\n}, {\n  name: 'list',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/goods/list\"));\n    });\n  },\n  meta: {\n    title: '邻家小铺'\n  }\n}, {\n  path: '/goods/:id',\n  name: 'goods',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/goods\"));\n    });\n  },\n  meta: {\n    title: '商品详情'\n  }\n}, {\n  name: 'search',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/search\"));\n    });\n  },\n  meta: {\n    title: '发现'\n  }\n}, {\n  name: 'user',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/user\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '会员中心'\n  }\n}, {\n  name: 'setting',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/setting\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '设置'\n  }\n}, {\n  name: 'updateUserName',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/setting/updateUserName\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改姓名'\n  }\n}, {\n  name: 'updateMobile',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/setting/updateMobile\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改手机号'\n  }\n}, {\n  name: 'updatePwd',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/setting/updatePwd\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改密码'\n  }\n}, {\n  name: 'avatar',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/setting/avatar\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改头像'\n  }\n}, {\n  name: 'order',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/order\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '我的订单'\n  }\n}, {\n  name: 'order/detail/:orderSn',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/order/detail\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '我的订单'\n  }\n}, {\n  name: 'payment/callback/:orderSn',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/order/payment/callback\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '支付结果'\n  }\n}, {\n  name: 'checkout',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/order/checkout\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '提交订单'\n  }\n}, {\n  name: 'payment',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/order/payment\"));\n    });\n  },\n  meta: {\n    requireAuth: true,\n    title: '收银台'\n  }\n}, {\n  name: 'address',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/address\"));\n    });\n  },\n  meta: {\n    title: '收货地址'\n  }\n}, {\n  name: 'address/edit',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/address/edit\"));\n    });\n  },\n  meta: {\n    title: '新增收货地址'\n  }\n}, {\n  name: 'cart',\n  component: function component() {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"./view/cart\"));\n    });\n  },\n  meta: {\n    // requireAuth: true,\n    title: '购物车'\n  }\n}];\nroutes.forEach(function (route) {\n  route.path = route.path || '/' + (route.name || '');\n});\nvar router = new _vueRouter.default({\n  routes: routes\n});\nexports.router = router;\nrouter.beforeEach(function (to, from, next) {\n  var title = to.meta && to.meta.title;\n\n  if (title) {\n    document.title = title;\n  } // 判断该路由是否需要登录权限\n\n\n  if (to.meta.requireAuth) {\n    if (_storage.default.getToken()) {\n      next();\n    } else {\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath\n        } // 将跳转的路由path作为参数，登录成功后跳转到该路由\n\n      });\n    }\n  } else {\n    next();\n  }\n});",null]}